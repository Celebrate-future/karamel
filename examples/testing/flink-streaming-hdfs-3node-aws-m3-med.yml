name: FlinkStreamingZkKafka
ec2:
    
cookbooks:                                                                      
  hadoop: 
    github: "hopshadoop/apache-hadoop-chef"
  flink: 
    github: "hopshadoop/flink-chef"
  kzookeeper: 
    github: "hopshadoop/kzookeeper"
  kkafka: 
    github: "hopshadoop/kkafka"

attrs:
  hadoop:
    version: 2.7.1
  flink:
    mode: streaming

groups:
  mgrs:
    size: 1
    recipes: 
        - hadoop::nn
        - flink::jobmanager
        - kzookeeper
        - kkafka
  workers:
    size: 2
    recipes: 
        - hadoop::dn
        - flink::taskmanager
  backend:
    size: 2
    recipes: 
        - kzookeeper
        - kkafka
