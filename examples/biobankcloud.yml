name: BiobankCloud
ec2:
    type: m3.large
    region: eu-west-1

cookbooks:                                                                      
  hops: 
    github: "hopshadoop/hops-hadoop-chef"
    branch: "master"
  hopshub:                                                                     
    github: "hopshadoop/hopshub-chef"
    branch: "master"  
  ndb:
    github: "hopshadoop/ndb-chef"
    branch: "master"
  hiway:
    github: "biobankcloud/hiway-chef"
    branch: "master"

attrs:
  hdfs:
    user: glassfish
  hadoop:
    yarn: 
        user: glassfish
    mr: 
        user: glassfish
  hiway:
    user: glassfish

groups: 
  master:
    size: 1 
    recipes:                                                                    
        - ndb::mysqld                                                       
        - ndb::mgmd
        - ndb::memcached
        - hops::ndb
        - hops::rm
        - hops::nn
        - hops::jhs                                              
        - hopshub
        - hiway::hiway_client
        - hiway::cuneiform_client
        - hiway::helloworld_client
        - hiway::wordcount_client
        - hiway::wordcount_run_loc
        - hiway::montage_synth_client
        - hiway::galaxy101_client
        - hiway::variantcall_client

  minions:
    size: 2
    recipes: 
        - ndb::ndbd
        - hops::dn
        - hops::nm
        - hiway::hiway_worker 
        - hiway::galaxy_worker
        - hiway::cuneiform_worker
        - hiway::galaxy101_worker
        - hiway::variantcall_worker
        - hiway::helloworld_run_loc
        - hiway::montage_synth_run_hw
        - hiway::variantcall_run_hw
        - hiway::galaxy101_run_hw