name: sparkwithtablespoon
baremetal:
    username: vagrant
    
cookbooks:                                                                      
  apache_hadoop: 
    github: "my-experiments/apache-hadoop-chef"
    branch: "master"
  hadoop_spark: 
    github: "my-experiments/spark-chef"
    branch: "master"
  java: 
    github: "my-experiments/java"
    branch: "master"
  riemann:
    github: "karamel-lab/riemann-chef"
    branch: "master"

attrs:
  java:
    jdk_version: "8"
  hadoop_spark:
    user: "vagrant"
    executor_memory: '1024m'
    
groups:
  mgr:
    baremetal:
        ip: 192.168.33.11
    size: 1
    recipes:
        - java    
        - apache_hadoop::nn
        - apache_hadoop::rm
        - hadoop_spark::master
        - riemann::server
  worker:
    size: 1
    baremetal:
        ips: 
            - 192.168.33.12
    recipes:
        - java
        - apache_hadoop::dn
        - apache_hadoop::nm
        - hadoop_spark::worker