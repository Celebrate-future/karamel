
name: honeytap
ec2:
    type: m3.medium
    region: eu-west-1
    
cookbooks:                                                                      
  apache_hadoop: 
    github: "my-experiments/apache-hadoop-chef"
    branch: "master"
  hadoop_spark: 
    github: "my-experiments/spark-chef"
    branch: "master"
  java: 
    github: "my-experiments/java"
    branch: "master"
  riemann:
    github: "karamel-lab/riemann-chef"
    branch: "master"

attrs:
  java:
    jdk_version: "8"
  hadoop_spark:
    user: "ubuntu"
    executor_memory: '1024m'
    
groups:
  mgr:
    size: 1
    autoscale: false
    recipes:
        - java    
        - apache_hadoop::nn
        - apache_hadoop::rm
        - hadoop_spark::master
        - riemann::server
  worker:
    size: 1
    autoscale: true
    recipes:
        - java
        - apache_hadoop::dn
        - apache_hadoop::nm
        - hadoop_spark::worker